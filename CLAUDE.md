## 总体描述

nextjs 前端项目，用户交互演示。交互的目的是让「小学生 456 年级和初中生」学习 AI 和其他相关知识

## 工程信息

- 用 framer-motion or react-three-fiber (three.js) 多加些动画，增加表现力
- 是给初中生/小学生用的，颜色鲜艳点，动画多点，美术风格活泼
- 文档放在 ./docs 中
- 没有用的文件改删就删
- 用路由分一下 url path，不要都在根目录
- 只在 3000 端口运行项目，不要用其他端口（如被占用可以停掉）
- 不要自动启动项目，我在终端手动启动看日志

- 拖拽交互 和 动态演示 要加细分

## 内容描述

学习 AI 知识，以「神经网络」为主，考虑小学、初中生的知识背景，简化讲解

## 交互列表

1. 基础交互：选择题 / 填空题 / 快速对错判断 / 即时反馈结果
2. 拖拽交互
3. 动态演示
4. 多模态交互
5. 探索式 / 沙盒交互 Playground

### 基础交互：选择题 / 填空题 / 快速对错判断 / 即时反馈结果

这种交互最常见，用来检测理解和加深记忆

填空又可分：
- 有选项填空
- 无选项填空

### 拖拽交互
通过拖拽滑块、物体，观察实时变化。

例子：
- 概率：拖动滑块改变事件概率，立刻更新条件概率图表
- 基础数学：拖拽分数条拼接，理解分数加法
- 电学模拟：拖拽电池、电阻，搭电路
- 算法：拖拽节点，修改图结构，再运行最短路径算法

拖拽具体细分：
- 拖拽调整（参数/对象位置）
	通过拖动滑块、物体，实时调整某个参数或位置，观察结果变化
- 拖拽消除（匹配/合并/消除）
	类似「三消」或「配对」，通过拖动消除对象，强化概念联想
- 拖拽拼装（组合/构建）
	把零散元素拖拽到合适位置，拼成一个整体
    几何：拖拽三角形/矩形块 → 拼成一个大正方形，理解面积公式
    生物学：拖拽器官到人体图上 → 学习结构位置
    编程：拖拽代码块 → 搭建完整程序
- 拖拽排序（序列/层级）
- 拖拽分类（归类/匹配）

### 生成式交互

细分：
- 手写输入识别：比如画一个数字 → AI 判断可能是几
- 输入文本：比如输入一句话 → AI 给出“情绪标签”或“关键词”

### 多模态交互

细分：
- 语音：比如说出“更大/更小/暂停/继续”，控制演示
- 摄像头：比如识别手势

### 动态演示
核心是“看”的体验，让抽象概念变直观

例子：
- 概率论：动画展示分布函数如何随参数变化而改变
- 算法：排序动画：冒泡、快速排序逐步显示交换过程

动态演示细分：
- 过程演示（逐步展开）
    学生手动按下一步。一步一步动态呈现概念或公式推导过程
- 参数变化演示（函数/模型动态变化）
	展示参数变化对结果的影响，但由系统自动播放，而非用户拖拽
- 对比演示（并行可视化）
	把不同情况同时用动画展示，让差异直观显现
- 模拟演示（现象再现）
	模拟自然或工程现象的动态过程，强调感性直观
- 隐喻演示
	用直观、拟人的动画隐喻复杂概念，降低理解门槛
    例子：
        神经网络：动画显示「信号小球」在节点间传递
        概率：小球随机落下形成正态分布

### 探索式 / 沙盒交互 Playground

鼓励自由探索，不是“题目驱动”，而是“实验驱动”
例子：
    ●数学：自由拼搭几何形状，画图证明定理
    ●概率实验：掷骰子、抽牌实验，自己调整参数、做统计

## Playground 游戏化实例：AI 小镇·神经网络乐园

面向小学高年级与初中生，通过“有记忆的角色 + 可观察的社会互动”来学习神经网络与机器学习基础。灵感来自斯坦福 Generative Agents 的“小镇”范式与 a16z AI Town 的可部署模板。

### 世界观设定

- 小镇主题：Neuronville（神经元镇）。镇上居民=“神经元角色”（Neuron NPC），街区=“层”（输入区/隐藏区/输出区），道路=“连接（权重）”。
- 日常循环：所有 NPC 白天“传递信号、开工训练”、晚上“复盘反思、更新记忆”，次日据此调整计划与社交互动（例如相互“求助调参”/“结对学习”）。这种“记忆—反思—计划”的架构让孩子能看见学习算法的迭代。

### 学习主线（任务制）

- 主线剧情：拯救“图像分类展”
市政厅宣布 3 天后举办“图像分类小博览”，需要镇上神经元们学会把“猫/狗/鱼/鸟”正确分类。玩家充当“实习训练师”，要通过任务帮助镇民提升准确率，最终在展会上达到≥90%。

- 关键任务

1. 连线建模：在“连线广场”拖拽搭出 输入→隐藏→输出 的基础多层感知机（MLP）。

2. 权重调优：完成“误差快递”小游戏，模拟反向传播：把“误差包裹”从输出区送回各层，经过结点会出现“梯度箭头”动画，让孩子看到“哪里需要更改”。

3. 学习率挑战：操控“学习率滑索”，太大会“晕车（震荡）”，太小会“走不动（收敛慢）”，在跑道上可视化损失曲线。

4. 正则化市集：用“L2 护符/Dropout 雨披”为模型“防过拟合”，左右屏对比动画显示训练/验证的准确率差异。

5. 数据清洗工坊：分类数据里混入“猫狗混合贴纸”，通过拖拽筛选理解数据质量的重要性。

6. 展会大联动：像 Smallville 的“情人节派对”，展会前一天镇民会自主扩散信息、结伴排练，并在开幕时准点集合（由代理的记忆与计划驱动的涌现行为）。

### 交互设计映射（对齐你的交互分类）

- 基础交互：随堂小测（选择/填空/对错）嵌在每个任务的“站点”。

- 拖拽交互：
    - 拖拽权重线改变厚度=权重大小；
    - 拖拽数据贴纸做清洗/分类；
    - 拖拽模块卡片拼装网络结构（输入层 / 隐藏层 / 输出层）。

- 动态演示：

    - 过程演示：一步步播“前向传播的小球流动”；
    - 参数变化演示：系统自动播放学习率变化→损失曲线的时间动画；
    - 对比演示：并排展示“加正则 vs 不加正则”；
    - 模拟演示：迷你“误差回流”物流线；
    - 隐喻演示：把“梯度”表现为“坡度箭头”。

- 多模态：语音指令（“暂停/继续/更快”），摄像头手势（👍=继续训练，✋=暂停），低年级也能上手。
- Playground 可自由拼装层数、激活函数、学习率并观察 NPC 自主互动如何随配置改变（例如社交“求助”频率上升）。

### 代理与记忆（核心机制）

**每个 NPC（神经元）**都拥有
- 短期记忆（当日事件流）、长期记忆（关键观察/总结）与 反思（生成的高层概念）
- 日计划（上课/训练/社交），在环境触发后动态更新
- 可被检索的自然语言记忆（孩子能读懂的句子），通过向量检索在事件触发时召回“相关经验”

### 实现要点

- 记忆条目：自然语言 + 时间戳 + 重要度
- 定期把“事件流水”压缩进“反思卡片”
- 触发动作：观察→检索记忆→决策（例如是否去找别的 NPC 讨论“学习率太大”）
- 采用向量数据库（如 Chroma/Pinecone/FAISS）做记忆检索，以低成本实现“像真的在记忆”

### 关卡与评价

- 星级制
    - ⭐ 达成目标（准确率 ≥ 70%）
    - ⭐⭐ 正确选择正则策略、不过拟合
    - ⭐⭐⭐ 成功解释“为什么这样调参有效”（用一句话卡片表述）
- 家长/老师视图
    - 查看每名学生的任务通过率、用词理解（激活函数/学习率/过拟合）与“反思卡片”质量
- 采用 Smallville 的“事件扩散 + 定点集合”模式实现全镇协作冲刺

### 技术选型

- 动画：framer-motion（UI 过渡、胜利特效），react-three-fiber（3D 小镇/小球流动）
- 图表：recharts 或 visx（损失曲线、准确率对比）
- 代理层：LLM + 记忆向量检索；可参考 AI Town 的多代理消息流与会话路由设计

### 配色与美术风格

- 鲜艳但护眼：主色“活力绿 + 天空蓝 + 橘黄点缀”，卡片圆角、粗线条插画。
- 小学友好：图标统一“贴纸化”，关卡成功给“烟花纸屑 + 音效”

### 性能与成本

- 离线/本地优先：演示动画、数据样本本地化
- 代理降采样：教学场景只保留关键 NPC（例如每层 6–10 个），非关键时段停更“社交小噪声”
- 记忆池限额：每 NPC 近期 200 条事件，老事件合并为反思摘要

### 教学脚本模版
| 时间       | 内容           | 教师活动                                                                                                   | 学生活动 / 交互                                     | 工具／资源                               |
| -------- | ------------ | ------------------------------------------------------------------------------------------------------ | --------------------------------------------- | ----------------------------------- |
| 0–5 分钟   | 导入 / 引起兴趣    | 老师展示一个实例：让学生猜一个图片里是“猫”还是“狗”，并说说你怎么判断的。引导：“其实电脑也能学会这样判断”                                                | 学生参与猜图，用自己已有经验说判断标准（比如“耳朵尖”“毛长”等）             | 图片示例 + 幻灯片                          |
| 5–15 分钟  | 神经网络结构介绍     | 用动画演示一个最简单的网络：输入层 → 隐藏层 → 输出层。引入“神经元节点”和“连接（权重）”的概念 <br> 动态演示：“信号球”从输入层流到输出层                           | 学生观察动画；教师在关键点提问：如果“连接很弱”“连接很强”，会发生什么？（初步理解权重） | 动画演示组件；可视化图表                        |
| 15–25 分钟 | 拖拽交互实践       | 在 Playground 中：学生可以拖拽网络结构（输入-隐藏-输出节点），也可调节权重滑块 <br> 学生调节不同权重观察输出结果如何变化 <br> 教师引导观察误差／猜输出是否正确           | 学生分组操作；用快速对错判断题巩固：你调了权重，结果是 A/B/C？            | Playground 模块；滑块工具；输出可视化（例如几率、分类结果） |
| 25–35 分钟 | 学习率与损失函数动态演示 | 演示学习率过高 / 过低导致什么：损失曲线动画 <br> 模型训练中“误差快递”动画演示反向传播 <br> 对比演示：用不同学习率训练结果差异                                | 学生观察，对比两条损失曲线，讨论哪一个更“好”／“快”／“稳定”              | 动画／图表组件；对比视图                        |
| 35–40 分钟 | 多模态 & 拓展交互   | 提问填空题／选择题： “神经元是什么？” “权重在做什么？” <br> 可以有手写/画图输入：让学生画他们理解的网络图 <br> 小组探索：如果你能添加一个隐藏层，会发生什么？               | 学生回答题目；画图；小组讨论                                | 问题卡片；画图组件；手写/交互输入                   |
| 40–45 分钟 | 总结与反思 + 作业   | 老师总结：神经网络结构／权重偏置／误差与学习率 <br> 分发作业：在 Playground 自由调参数 + 写一段反思：“我做了什么调节，会怎么改进” <br> 鼓励学生把观察到的内容写出来，下次课分享 | 学生写反思；准备作业                                    | 作业模板；Playground 链接                  |



